<div class="p-6 max-w-7xl mx-auto space-y-8">
  
  <!-- Welcome Header with Animated Text -->
  <header class="mb-8">
    <div class="flex items-center justify-between mb-6">
      <div>
        <div class="flex items-center gap-3 mb-2">
          <app-animated-text 
            [text]="greetingMessage() + '!'" 
            size="2xl" 
            animationColor="brand"
            [letterSpacing]="true">
          </app-animated-text>
          <span class="text-3xl">{{ greetingEmoji() }}</span>
        </div>
        <p class="text-lg text-muted-foreground">
          Ready to continue your learning journey?
        </p>
      </div>
      
      <!-- Quick Search -->
      <div class="hidden md:block">
        <div class="relative">
          <input 
            type="text" 
            placeholder="Quick search..."
            class="w-64 px-4 py-2 pl-10 bg-card border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary transition-colors duration-200"
            (keyup)="onSearchInput($event)">
          <span class="absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground">🔍</span>
        </div>
      </div>
    </div>

    <!-- Enhanced Weekly Progress -->
    <div class="bg-card border border-border rounded-lg p-6 shadow-sm">
      <div class="flex items-center justify-between mb-4">
        <div class="flex items-center gap-3">
          <h3 class="text-lg font-semibold text-foreground">Weekly Learning Goal</h3>
          <span class="inline-flex items-center px-2 py-1 bg-accent/10 text-accent text-xs rounded-full font-medium">
            🔥 {{ stats().streakDays }} day streak
          </span>
        </div>
        <span class="text-sm text-muted-foreground">
          {{ stats().completedToday }} / {{ stats().weeklyGoal }} notes
        </span>
      </div>
      
      <div class="w-full bg-muted rounded-full h-4 mb-3 overflow-hidden">
        <div 
          [class]="getProgressBarColor()"
          class="h-4 rounded-full transition-all duration-500 relative"
          [style.width.%]="weeklyProgress()">
          <div class="absolute inset-0 bg-white/20 rounded-full animate-pulse"></div>
        </div>
      </div>
      
      <div class="flex items-center justify-between">
        <p class="text-sm text-muted-foreground">
          <span class="font-medium text-foreground">{{ weeklyProgress() | number:'1.0-0' }}% complete</span>
          - {{ progressMotivation() }}
        </p>
        <app-button 
          variant="primary" 
          size="sm"
          icon="✍️"
          (clicked)="createNewNote()">
          Add Note
        </app-button>
      </div>
    </div>
  </header>

  <!-- Enhanced Stats Overview -->
  <section class="mb-8">
    <h2 class="text-xl font-semibold text-foreground mb-6 flex items-center gap-2">
      <span>📊</span>
      <app-animated-text 
        text="Overview" 
        size="lg" 
        animationColor="primary">
      </app-animated-text>
    </h2>
    
    <!-- Updated Stats Grid - Replace your existing grid -->
<div class="grid grid-cols-2 md:grid-cols-4 gap-4 auto-rows-fr">
  
  <!-- Total Notes -->
  <app-stats-card 
    icon="📝"
    title="Total Notes"
    [value]="stats().totalNotes"
    description="Your knowledge base"
    variant="primary"
    [clickable]="true">
  </app-stats-card>

  <!-- Total Notebooks -->
  <app-stats-card 
    icon="📁"
    title="Notebooks"
    [value]="stats().totalNotebooks"
    description="Organized collections"
    variant="accent"
    [clickable]="true">
  </app-stats-card>

  <!-- Recent Activity -->
  <app-stats-card 
    icon="⚡"
    title="Recent Activity"
    [value]="stats().recentActivity"
    description="This week"
    variant="warning"
    [clickable]="true">
  </app-stats-card>

  <!-- AI Insights -->
  <app-stats-card 
    icon="🤖"
    title="AI Insights"
    [value]="stats().aiSuggestions"
    description="Smart suggestions"
    variant="success"
    [clickable]="true">
  </app-stats-card>

</div>
  </section>

  <!-- AI Insights Section -->
  <section class="mb-8" *ngIf="aiInsights().length > 0">
    <h2 class="text-xl font-semibold text-foreground mb-6 flex items-center gap-2">
      <span>🤖</span>
      <app-animated-text 
        text="AI Insights" 
        size="lg" 
        animationColor="success">
      </app-animated-text>
    </h2>
    
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <div 
        *ngFor="let insight of aiInsights()" 
        class="bg-card border border-border rounded-lg p-6 shadow-sm hover:shadow-lg hover:-translate-y-1 transition-all duration-200 group"
        [class.border-accent]="insight.type === 'achievement'"
        [class.border-warning]="insight.type === 'reminder'"
        [class.border-info]="insight.type === 'suggestion'">
        
        <div class="flex items-start gap-4">
          <div class="w-10 h-10 bg-muted rounded-lg flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform duration-200">
            <span class="text-lg">{{ insight.icon }}</span>
          </div>
          
          <div class="flex-1 min-w-0">
            <h3 class="font-semibold text-foreground mb-2 group-hover:text-primary transition-colors">
              {{ insight.title }}
            </h3>
            <p class="text-sm text-muted-foreground mb-3 leading-relaxed">
              {{ insight.description }}
            </p>
            
            <app-button 
              *ngIf="insight.action" 
              variant="accent" 
              size="sm"
              (clicked)="handleAIInsightAction(insight)">
              {{ insight.action }}
            </app-button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Enhanced Quick Actions -->
  <section class="mb-8">
    <h2 class="text-xl font-semibold text-foreground mb-6 flex items-center gap-2">
      <span>⚡</span>
      <app-animated-text 
        text="Quick Actions" 
        size="lg" 
        animationColor="accent">
      </app-animated-text>
    </h2>
    
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
      <app-button 
        *ngFor="let action of quickActions()" 
        [variant]="action.variant"
        size="lg"
        [fullWidth]="true"
        [icon]="action.icon"
        class="h-auto p-0">
        
        <a [routerLink]="action.route" class="block p-6 w-full h-full">
          <div class="flex flex-col items-center text-center">
            <h3 class="font-semibold mb-2 flex items-center gap-2">
              {{ action.title }}
              <span *ngIf="action.badge" class="px-2 py-1 bg-white/20 text-xs rounded-full">
                {{ action.badge }}
              </span>
            </h3>
            <p class="text-sm opacity-90">{{ action.description }}</p>
          </div>
        </a>
      </app-button>
    </div>
  </section>

  <!-- Enhanced Recent Notes -->
  <section>
    <div class="flex items-center justify-between mb-6">
      <h2 class="text-xl font-semibold text-foreground flex items-center gap-2">
        <span>📚</span>
        <app-animated-text 
          text="Recent Notes" 
          size="lg" 
          animationColor="info">
        </app-animated-text>
      </h2>
      <app-button 
        variant="secondary" 
        size="sm"
        icon="📖"
        (clicked)="viewAllNotes()">
        View All
      </app-button>
    </div>
  <!-- Recent Notes-->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <app-note-card
    *ngFor="let note of recentNotes(); trackBy: trackByNote"
    [id]="note.id"
    [title]="note.title"
    [excerpt]="note.excerpt"
    [lastModified]="note.lastModified"
    [notebook]="note.notebook"
    [notebookColor]="note.notebookColor"
    [tags]="note.tags"
    [progress]="note.progress"
    (noteClicked)="openNote($event)"
    (tagClicked)="onTagClick($event)"
    (menuClicked)="onNoteMenu($event)">
  </app-note-card>
    </div>

    <!-- Enhanced Empty State -->
    <div *ngIf="recentNotes().length === 0" class="text-center py-16 bg-card rounded-lg border border-border">
      <div class="w-20 h-20 bg-muted rounded-full flex items-center justify-center mx-auto mb-6">
        <span class="text-4xl">📝</span>
      </div>
      
      <!-- Use regular text instead of animated text -->
      <h3 class="text-xl font-bold text-foreground mb-4">
        No notes yet
      </h3>
      
      <p class="text-muted-foreground mb-6 max-w-md mx-auto">
        Start your learning journey by creating your first note. Capture ideas, insights, and knowledge as you learn.
      </p>
      
      <app-button 
        variant="primary"
        size="md"
        [shine]="true"
        icon="✍️"
        (clicked)="createNewNote()">
        Create Your First Note
      </app-button>
    </div>

  </section>

</div>